# ‚úÖ –ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Firestore –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∫–∞—Ç–∞–ª–æ–≥–∞
**–°—Ç–∞—Ç—É—Å:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

- –í—Å–µ 8 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ [constants/categories.js](frontend/src/constants/categories.js):
  - Puhkus, Toit, Auto, Teenused, Ilu, **Ostlemine**, Lapsed, Reisimine
- –ö–Ω–æ–ø–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ [CatalogPage.jsx](frontend/src/pages/CatalogPage.jsx#L257-L268)
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ [i18n.js](frontend/src/i18n.js#L226):
  - RU: "Ostlemine" ‚Üí "–ü–æ–∫—É–ø–∫–∏"
  - EN: "Ostlemine" ‚Üí "Shopping"
  - ET: "Ostlemine" ‚Üí "Ostlemine"

**–§–∏–ª—å—Ç—Ä –∏—â–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `mainCategory === 'Ostlemine'` (—Å—Ç—Ä–æ–∫–∞ 136)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–∞–∫–∂–µ —Å—Ç–∞—Ä–æ–µ –ø–æ–ª–µ `category` –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### 2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏ –≤ Firestore

**–°–∫—Ä–∏–ø—Ç:** `backend/migrations/addTestCompanies.js`

**–î–æ–±–∞–≤–ª–µ–Ω–æ 5 –Ω–æ–≤—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π:**
1. **Rimi Supermarket** - Ostlemine > Poed (Tallinn, verified ‚úì)
2. **Vapiano Tallinn** - Toit > Restoranid (Tallinn, verified ‚úì)
3. **Kalev Spa** - Puhkus > SPA (Tallinn, verified ‚úì)
4. **AutoExpert Tallinn** - Auto > Autoteenus (Tallinn, not verified ‚úó)
5. **Caffeine Coffee Bar** - Toit > Kohvikud (Tartu, verified ‚úì)

**–ò—Ç–æ–≥–æ –≤ –±–∞–∑–µ: 6 –∫–æ–º–ø–∞–Ω–∏–π** (–≤–∫–ª—é—á–∞—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é Hyper Rimi √úlemiste)

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:**
- Ostlemine: 2 –∫–æ–º–ø–∞–Ω–∏–∏ (Rimi Supermarket, Hyper Rimi √úlemiste)
- Toit: 2 –∫–æ–º–ø–∞–Ω–∏–∏ (Vapiano, Caffeine)
- Puhkus: 1 –∫–æ–º–ø–∞–Ω–∏—è (Kalev Spa)
- Auto: 1 –∫–æ–º–ø–∞–Ω–∏—è (AutoExpert)

### 3. ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Firestore

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤** [CatalogPage.jsx](frontend/src/pages/CatalogPage.jsx#L107-L122):

```javascript
// Client-side search after loading all companies from Firestore
if (searchQuery && searchQuery.trim()) {
  const searchLower = searchQuery.toLowerCase().trim();
  result = result.filter(company => {
    const nameMatch = company.name?.toLowerCase().includes(searchLower);
    const descEtMatch = company.description?.et?.toLowerCase().includes(searchLower);
    const descEnMatch = company.description?.en?.toLowerCase().includes(searchLower);
    const descRuMatch = company.description?.ru?.toLowerCase().includes(searchLower);
    return nameMatch || descEtMatch || descEnMatch || descRuMatch;
  });
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∫–æ–º–ø–∞–Ω–∏–∏
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é –Ω–∞ 3 —è–∑—ã–∫–∞—Ö (ET, EN, RU)
- ‚úÖ Case-insensitive (–Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω–µ (–ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –∫–æ–º–ø–∞–Ω–∏–π)

**–ü–æ—á–µ–º—É –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –ø–æ–∏—Å–∫:**
- Firestore –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- –î–ª—è –Ω–µ–±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–º–ø–∞–Ω–∏–π (<100) –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –ø–æ–∏—Å–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω
- –î–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Algolia –∏–ª–∏ Elastic Search

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞ "Ostlemine" (–ü–æ–∫—É–ø–∫–∏)
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥: http://localhost/catalog
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–æ–∫—É–ø–∫–∏" / "Shopping" / "Ostlemine"
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ç–æ–±—Ä–∞–∑—è—Ç—Å—è 2 –∫–æ–º–ø–∞–Ω–∏–∏ (Rimi Supermarket, Hyper Rimi √úlemiste)

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π
1. –í—ã–±–µ—Ä–∏—Ç–µ "Ostlemine" –≤ –≥–ª–∞–≤–Ω–æ–º —Ñ–∏–ª—å—Ç—Ä–µ
2. –í –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤—ã–±–µ—Ä–∏—Ç–µ "Poed"
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 2 –º–∞–≥–∞–∑–∏–Ω–∞ Rimi

### –¢–µ—Å—Ç 3: –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
1. –í –ø–æ–∏—Å–∫–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ –≤–≤–µ–¥–∏—Ç–µ "Rimi"
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 2 –∫–æ–º–ø–∞–Ω–∏–∏ —Å "Rimi" –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏

### –¢–µ—Å—Ç 4: –ü–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é
1. –í–≤–µ–¥–∏—Ç–µ "kohv" (–∫–æ—Ñ–µ –Ω–∞ —ç—Å—Ç–æ–Ω—Å–∫–æ–º)
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Caffeine Coffee Bar

### –¢–µ—Å—Ç 5: –§–∏–ª—å—Ç—Ä –ø–æ –≥–æ—Ä–æ–¥—É
1. –í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥ "Tallinn"
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 5 –∫–æ–º–ø–∞–Ω–∏–π
3. –í—ã–±–µ—Ä–∏—Ç–µ "Tartu"
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 1 –∫–æ–º–ø–∞–Ω–∏—è (Caffeine Coffee Bar)

### –¢–µ—Å—Ç 6: –§–∏–ª—å—Ç—Ä "–¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ"
1. –í–∫–ª—é—á–∏—Ç–µ —á–µ–∫–±–æ–∫—Å "Verified Only"
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 5 –∫–æ–º–ø–∞–Ω–∏–π (–±–µ–∑ AutoExpert Tallinn)

## üìä –¢–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ Firestore

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π:
```bash
node backend/migrations/verifyData.js
```

–í—ã–≤–æ–¥:
```
üìä Total Companies: 6

By Main Category:
  Toit: 2 companies
  Puhkus: 1 companies
  Ostlemine: 2 companies
  Auto: 1 companies

By City:
  Tartu: 1 companies
  Tallinn: 5 companies

By Verification Status:
  Verified: 5
  Not Verified: 1
```

## üîß –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏

### –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π:
```bash
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ backend/migrations/addTestCompanies.js
# –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–∞–Ω–∏–∏ –≤ –º–∞—Å—Å–∏–≤ testCompanies
node backend/migrations/addTestCompanies.js
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ:
```bash
node backend/migrations/verifyData.js
```

## üêõ –ï—Å–ª–∏ –∫–Ω–æ–ø–∫–∞ "–ú–∞–≥–∞–∑–∏–Ω—ã" –Ω–µ –≤–∏–¥–Ω–∞

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **–ï—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫** - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–∫—Ä—ã—Ç—ã –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º `searchQuery`
   - –û—á–∏—Å—Ç–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—É—é —Å—Ç—Ä–æ–∫—É

2. **CSS —Å–∫—Ä—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ DevTools
   - –û—Ç–∫—Ä–æ–π—Ç–µ F12 ‚Üí Elements ‚Üí –Ω–∞–π–¥–∏—Ç–µ `.category-pill`

3. **JavaScript –æ—à–∏–±–∫–∞** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
   - F12 ‚Üí Console ‚Üí –∏—â–∏—Ç–µ –æ—à–∏–±–∫–∏

**–û—Ç–ª–∞–¥–∫–∞:**
- –û—Ç–∫—Ä–æ–π—Ç–µ Console (F12)
- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:
  ```
  üìã Main Categories: ["–í—Å–µ", "Puhkus", "Toit", "Auto", "Teenused", "Ilu", "Ostlemine", "Lapsed", "Reisimine"]
  ```

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–∏

```javascript
{
  name: "Rimi Supermarket",
  mainCategory: "Ostlemine",        // –ì–ª–∞–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
  subCategory: "Poed",              // –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è
  category: "Poed",                 // Legacy –ø–æ–ª–µ (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
  city: "Tallinn",
  address: "Peterburi tee 2, Tallinn",
  phone: "+372 600 5000",
  email: "info@rimi.ee",
  website: "https://www.rimi.ee",
  description: {
    et: "–û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —ç—Å—Ç–æ–Ω—Å–∫–æ–º",
    en: "Description in English",
    ru: "–û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º"
  },
  location: {
    lat: 59.4370,
    lng: 24.7536
  },
  verified: true,                   // –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è
  isVerified: true,                 // Legacy –ø–æ–ª–µ
  priority: 5,                      // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (0-10)
  rating: 4.5,                      // –†–µ–π—Ç–∏–Ω–≥ (0-5)
  reviewCount: 128,                 // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤
  createdAt: Timestamp,
  updatedAt: Timestamp
}
```

## ‚úÖ –ò—Ç–æ–≥

1. ‚úÖ **–§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç** - –≤—Å–µ 8 –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –≤–∫–ª—é—á–∞—è "Ostlemine" (–ú–∞–≥–∞–∑–∏–Ω—ã/–ü–æ–∫—É–ø–∫–∏)
2. ‚úÖ **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã** - 6 –∫–æ–º–ø–∞–Ω–∏–π –≤ —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö –∏ –≥–æ—Ä–æ–¥–∞—Ö
3. ‚úÖ **–ü–æ–∏—Å–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω** - —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—é –Ω–∞ 3 —è–∑—ã–∫–∞—Ö
4. ‚úÖ **–ü–∞–≥–∏–Ω–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é** - —Å–µ–π—á–∞—Å –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ –∫–æ–º–ø–∞–Ω–∏–∏, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å limit

**–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å Firestore –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ

---

**–°–æ–∑–¥–∞–Ω–æ:** 2 —è–Ω–≤–∞—Ä—è 2026  
**–¢–µ—Å—Ç–æ–≤—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π:** 6  
**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:** 8  
**–ì–æ—Ä–æ–¥–∞:** 4
