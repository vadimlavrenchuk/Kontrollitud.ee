# üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx Proxy Manager

## ‚ö†Ô∏è –í–ê–ñ–ù–û
Nginx Proxy Manager —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ù–ê –°–ï–†–í–ï–†–ï, –∞ –Ω–µ –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ!

---

## üìã –ß—Ç–æ –≤–∞–º –Ω—É–∂–Ω–æ:

1. **IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞** (—É–∑–Ω–∞–π—Ç–µ —É —Ö–æ—Å—Ç–∏–Ω–≥-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞)
2. **SSH –¥–æ—Å—Ç—É–ø** (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –∏–ª–∏ SSH –∫–ª—é—á)
3. **–û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã**: 80, 443, 81 (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ø–∞–Ω–µ–ª–∏ —Ö–æ—Å—Ç–∏–Ω–≥–∞)

---

## üîê –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

### –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ VS Code (–≤–∫–ª–∞–¥–∫–∞ SSH):

```bash
ssh root@YOUR_SERVER_IP
# –∏–ª–∏ –µ—Å–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
ssh username@YOUR_SERVER_IP
```

**–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏:**
- –°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–æ—Å–∏—Ç: `Are you sure you want to continue connecting?`
- –ù–∞–ø–∏—à–∏—Ç–µ: `yes` –∏ –Ω–∞–∂–º–∏—Ç–µ Enter
- –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å (—Å–∏–º–≤–æ–ª—ã –Ω–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)

---

## üöÄ –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx Proxy Manager

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã **–ù–ê –°–ï–†–í–ï–†–ï**:

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):
```bash
docker --version
docker-compose --version
```

**–ï—Å–ª–∏ Docker –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
```bash
# –î–ª—è Ubuntu/Debian:
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo apt install docker-compose -y
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
```bash
mkdir -p ~/proxy
cd ~/proxy
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ docker-compose.yml:
```bash
nano docker-compose.yml
```

### 4. –í—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ (Ctrl+Shift+V):
```yaml
version: '3.8'

services:
  app:
    image: 'jc21/nginx-proxy-manager:latest'
    restart: unless-stopped
    ports:
      - '80:80'
      - '81:81'
      - '443:443'
    volumes:
      - ./data:/data
      - ./letsencrypt:/etc/letsencrypt
    environment:
      DISABLE_IPV6: 'true'
```

### 5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª:
- –ù–∞–∂–º–∏—Ç–µ `Ctrl + O` (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å)
- –ù–∞–∂–º–∏—Ç–µ `Enter`
- –ù–∞–∂–º–∏—Ç–µ `Ctrl + X` (–≤—ã–π—Ç–∏)

### 6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```bash
docker-compose up -d
```

### 7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:
```bash
docker-compose ps
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `State: Up`

---

## üåê –®–∞–≥ 3: –û—Ç–∫—Ä—ã—Ç–∏–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏

### –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://YOUR_SERVER_IP:81
```

**–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **Firewall —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
# –î–ª—è Ubuntu/Debian —Å UFW:
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw allow 81/tcp
sudo ufw status
```

2. **Firewall —Ö–æ—Å—Ç–∏–Ω–≥-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:**
   - –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö–æ—Å—Ç–∏–Ω–≥–∞
   - –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "Firewall" –∏–ª–∏ "Security Groups"
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç—ã: 80, 443, 81

3. **–°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:**
```bash
cd ~/proxy
docker-compose logs -f app
```

---

## üîë –®–∞–≥ 4: –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥

**–õ–æ–≥–∏–Ω:**
- Email: `admin@example.com`
- Password: `changeme`

**–°–†–ê–ó–£ —Å–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å!**

---

## üåç –®–∞–≥ 5: –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Nginx Proxy Manager, –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Git (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd ~
git clone https://github.com/YOUR_USERNAME/Kontrollitud.ee.git
cd Kontrollitud.ee
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ SCP (—Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞)
```powershell
# –í PowerShell –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:
scp -r C:\Users\vadim\Kontrollitud.ee root@YOUR_SERVER_IP:~/
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
cd ~/Kontrollitud.ee

# –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ .env)
nano .env
# –í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ (Ctrl+O, Enter, Ctrl+X)

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
docker-compose up -d
```

---

## üéØ –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ –≤ Nginx Proxy Manager

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å: http://YOUR_SERVER_IP:81
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Proxy Hosts**
3. –ù–∞–∂–º–∏—Ç–µ **Add Proxy Host**

**Details:**
```
Domain Names: kontrollitud.ee, www.kontrollitud.ee
Scheme: http
Forward Hostname/IP: 172.17.0.1 (–∏–ª–∏ localhost)
Forward Port: 3000
‚òë Block Common Exploits
‚òë Websockets Support
```

**SSL:**
```
‚òë Request a new SSL Certificate
‚òë Force SSL
‚òë HTTP/2 Support
Email: –≤–∞—à@email.com
‚òë I Agree to the Let's Encrypt Terms
```

4. –ù–∞–∂–º–∏—Ç–µ **Save**

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- ‚úÖ https://kontrollitud.ee - –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≤–∞—à —Å–∞–π—Ç
- ‚úÖ –ó–µ–ª–µ–Ω—ã–π –∑–∞–º–æ—á–µ–∫ üîí –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ

---

## üö® Troubleshooting

### "Connection refused" –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ SSH
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP –∞–¥—Ä–µ—Å
ping YOUR_SERVER_IP

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç SSH (–æ–±—ã—á–Ω–æ 22)
telnet YOUR_SERVER_IP 22
```

### "Permission denied" –ø—Ä–∏ SSH
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSH –∫–ª—é—á

### Nginx Proxy Manager –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É 81
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω
docker ps | grep nginx-proxy

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
cd ~/proxy
docker-compose logs -f app

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose restart
```

### 502 Bad Gateway –Ω–∞ —Å–∞–π—Ç–µ
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –∑–∞–ø—É—â–µ–Ω
cd ~/Kontrollitud.ee
docker-compose ps

# –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å "Up"
```

---

## üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥:
```bash
docker ps
docker-compose logs --tail 50
```

2. –û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É –ø–æ–¥—Ä–æ–±–Ω–æ
3. –£–∫–∞–∂–∏—Ç–µ IP —Å–µ—Ä–≤–µ—Ä–∞ (–º–æ–∂–Ω–æ –≤ –ª–∏—á–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏)

---

**–£—Å–ø–µ—Ö–æ–≤ —Å –∑–∞–ø—É—Å–∫–æ–º! üöÄ**
